import{aw as u}from"./index-DCrC4jCS.js";import{d as x,r as d,w as h,o as b,c,n as y}from"./index-C1PMfBe1.js";const w=e=>Array.isArray(e)?!e.length:!0,p=x((e,m)=>{const r=d(),i=d(),n=d(e.value||e.defaultValue||""),f=async(t,a)=>{if(e.value||(n.value=a),m.emit("update:value",a),await y(),!(t instanceof HTMLElement)||!a||!r.value)return;const l=t.offsetWidth,s=t.offsetLeft;r.value.style.width=`${l}px`,r.value.style.transform=`translatex(${s}px)`};return h(()=>e.value,(t,a)=>{t&&t!==a&&(n.value=t)},{}),b(()=>{var t,a,l,s;if(!(w(e.items)||!i.value))if(!n.value)f((a=(t=i.value)==null?void 0:t.children)==null?void 0:a[0],e.items[0].value);else{const o=e.items.findIndex(v=>v.value===n.value);if(o===-1)return;f((s=(l=i.value)==null?void 0:l.children)==null?void 0:s[o],e.items[o].value)}}),()=>{const t=e.type==="card"?"card":"line";return c("div",{class:u("relative flex flex-col w-full",t==="line"?"border-b b-zinc-200":"bg-zinc-100",e.class)},[c("div",{class:"flex flex-wrap gap-4 px-2 py-1",ref:i},[e.items.map(a=>c("div",{onClick:l=>{l.target&&f(l.target,a.value)},class:u("cursor-pointer text-sm select-none px-2 py-2 truncate relative z-2","max-w-25%",n.value===a.value?u("font-bold",t==="line"?"text-primary":"text-zinc-900"):"text-zinc-600"),key:a.value},[a.label]))]),c("div",{class:u("pos-absolute  left-0 transition-transform",t==="line"?"h2px bg-primary bottom-0":"bg-white z-1 bg-white h-[calc(100%-8px)] rounded-md bottom-1 shadow-sm"),ref:r},null)])}},{props:["defaultValue","type","items","class","value"],inheritAttrs:!1});export{p as T};
